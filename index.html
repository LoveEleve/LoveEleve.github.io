<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>LoveEleve's Tech Blog</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <meta name="referrer" content="no-referrer">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-simple.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify-sidebar-collapse/dist/sidebar.min.css" />
  
  <style>
    :root {
      --theme-color: #42b983;
      --sidebar-width: 250px;
      --content-max-width: 850px;
      --base-font-size: 13px;
    }
    
    /* 侧边栏首页简洁逻辑 */
    .sidebar-nav a[href="#/"] + ul,
    .sidebar-nav a[href="#/README"] + ul { display: none !important; }
    .sidebar-nav a[href="#/"]::after,
    .sidebar-nav a[href="#/README"]::after { display: none !important; }

    /* 代码块美化与折叠样式 */
    pre {
      position: relative;
      transition: max-height 0.5s cubic-bezier(0, 1, 0, 1);
      overflow: hidden;
      max-height: 10000px; /* 默认展开 */
      border-radius: 8px !important;
      border: 1px solid rgba(0,0,0,0.05) !important;
      background: #fdfdfd !important;
    }

    pre.collapsed {
      max-height: 45px !important; /* 折叠高度 */
      cursor: pointer;
    }

    pre.collapsed::after {
      content: "点击展开全文";
      position: absolute;
      bottom: 0; left: 0; right: 0;
      height: 100%;
      background: linear-gradient(rgba(255,255,255,0), rgba(255,255,255,0.9));
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--theme-color);
      font-size: 12px;
      font-weight: bold;
    }

    /* 自定义折叠按钮 */
    .custom-toggle-btn {
      position: absolute;
      top: 5px;
      right: 120px; /* 避开复制按钮 */
      z-index: 10;
      padding: 2px 8px;
      font-size: 11px;
      color: #999;
      background: rgba(255,255,255,0.8);
      border: 1px solid #eee;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .custom-toggle-btn:hover {
      color: var(--theme-color);
      border-color: var(--theme-color);
      background: #fff;
    }

    /* 修复复制按钮样式 */
    .docsify-copy-code-button {
      background: rgba(255,255,255,0.8) !important;
      color: #999 !important;
      border: 1px solid #eee !important;
      padding: 4px 10px !important;
      border-radius: 4px !important;
    }
  </style>
</head>
<body>
  <div id="app">正在加载 (Stability Fix)...</div>
  <script>
    window.$docsify = {
      name: 'LoveEleve',
      repo: 'https://github.com/LoveEleve/LoveEleve.github.io',
      loadSidebar: true,
      alias: { '/.*/_sidebar.md': '/_sidebar.md' },
      subMaxLevel: 3,
      sidebarDisplayLevel: 0,
      executeScript: true,
      requestHeaders: { 'cache-control': 'max-age=0' },
      auto2top: true,
      
      plugins: [
        function(hook, vm) {
          hook.doneEach(function() {
            // 为每个代码块添加“收起”按钮
            document.querySelectorAll('pre').forEach(function(pre) {
              if (pre.querySelector('.custom-toggle-btn')) return;

              const btn = document.createElement('button');
              btn.className = 'custom-toggle-btn';
              btn.innerText = '收起代码';
              pre.appendChild(btn);

              btn.onclick = function(e) {
                e.stopPropagation();
                pre.classList.toggle('collapsed');
                btn.innerText = pre.classList.contains('collapsed') ? '展开' : '收起代码';
              };

              pre.onclick = function() {
                if (pre.classList.contains('collapsed')) {
                  pre.classList.remove('collapsed');
                  btn.innerText = '收起代码';
                }
              };
            });
          });
        }
      ]
    };
  </script>
  
  <script src="https://cdn.jsdelivr.net/npm/docsify@4/lib/docsify.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/js/docsify-themeable.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify-sidebar-collapse/dist/docsify-sidebar-collapse.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-java.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify-copy-code@2"></script>
</body>
</html>
